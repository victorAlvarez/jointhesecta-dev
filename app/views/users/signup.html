{% extends 'auth.html' %}

{% block auth %}
    <form class="signin form-horizontal" action="/users" method="post">
        <div class="form-group">
            <label class="col-md-4 control-label" for="name">Nombre Completo</label>
            <div class="col-md-8">
                <input id="name" class="form-control" type="text" name="name" placeholder="Nombre Completo" value="{{user.name}}" required />
                <img src="../img/correct.png" ng-show="signup.name.$valid" width="20">
                <div ng-show="signup.name.$dirty && signup.name.$invalid">
                    <span class="label label-danger" ng-show="signup.name.$error.required">
                        Tienes que rellenar este campo
                    </span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label" for="email">Email</label>
            <div class="col-md-8">
                <input id="email" class="form-control" type="text" name="email" placeholder="Email" value="{{user.email}}" required />
                <img src="../img/correct.png" ng-show="signup.email.$valid" width="20">
                <div ng-show="signup.email.$dirty && signup.email.$invalid">
                    <span class="label label-danger" ng-show="signup.email.$error.required">
                        Tienes que rellenar este campo
                    </span>
                    <span class="label label-danger" ng-show="signup.email.$error.email">
                        La dirección de email tiene que ser valida
                    </span>
                    <span class="label label-danger" ng-show="signup.email.$error.uniqueEmail">
                        La dirección de email ya esta registrada. <br> Si has olvidado tu contraseña puedes recuperarla <br> <a href="#">aquí</a>
                    </span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label" for="username">Nombre de usuario</label>
            <div class="col-md-8">
                <input id="username" class="form-control" type="text" name="username" placeholder="Nombre de usuario" value="{{user.username}}" ng-minlength="5"
                        ng-maxlength="20" ng-pattern="/^[A-z][A-z0-9]*$/" required/>
                <img src="../img/correct.png" ng-show="signup.username.$valid" width="20">
                <div ng-show="signup.username.$dirty && signup.username.$invalid">
                    <span class="label label-danger" ng-show="signup.username.$error.required">
                        Tienes que rellenar este campo
                    </span>
                    <span class="label label-danger" ng-show="!signup.username.$error.minLength && !signup.username.$error.maxLength && signup.username.$error.pattern && signup.username.$dirty">
                        Debe comenzar con una letra y contener <br> letras y números solamente
                    </span>
                    <span class="label label-danger" ng-show="!signup.username.$error.required && (signup.username.$error.minlength || signup.username.$error.maxlength) && signup.username.$dirty">
                        El nombre de usuario debe tener entre <br> 5 y 20 caracteres
                    </span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label" for="password">Contraseña</label>
            <div class="col-md-8">
                <input id="password" class="form-control" type="password" name="password" placeholder="Contraseña" ng-minlength="8"
                        ng-maxlength="20" ng-pattern="/(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z])/" required/>
                <img src="../img/correct.png" ng-show="signup.password.$valid" width="20">
                <span class="label label-danger" ng-show="signup.password.$error.required && signup.password.$dirty">
                    Tienes que rellenar este campo
                </span>
                <span class="label label-danger" ng-show="!signup.password.$error.required && (signup.password.$error.minlength || signup.password.$error.maxlength) && signup.password.$dirty">
                    La contraseña debe tener entre <br> 8 y 20 caracteres
                </span>
                <span class="label label-danger" ng-show="!signup.password.$error.required && !signup.password.$error.minlength && !signup.password.$error.maxlength && signup.password.$error.pattern && signup.password.$dirty">
                    Debe contener letras en miniscula y mayúscula, <br> y un carácter no-alpha (un número o un símbolo)
                </span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-4 col-md-8">
                <button class="btn btn-primary" type="submit">Sign up</button>&nbsp;
                or&nbsp;<a class="show-login" href="/signin">login</a>
            </div>
        </div>
    </form>
{% endblock %}
